var exampleChords = { 'Ab 7': 'no chord chart available for chord',
  'Ab M': 'no chord chart available for chord',
  'Ab m': 'no chord chart available for chord',
  'Ab aug': 
   [ { letter: 'C', string: 'G', fret: 5 },
     'x',
     { letter: 'Ab', string: 'E', fret: 4 },
     { letter: 'E', string: 'A', fret: 5 } ],
  'Ab dim': 
   [ { letter: 'Cb', string: 'G', fret: 4 },
     'x',
     { letter: 'Ab', string: 'E', fret: 4 },
     { letter: 'Ebb', string: 'A', fret: 5 } ],
  'Ab m7': 'no chord chart available for chord',
  'Ab M7': 'no chord chart available for chord',
  'Ab aug7': 'no chord chart available for chord',
  'Ab dim7': 'no chord chart available for chord',
  'Ab m7dim5': 'no chord chart available for chord',
  'A 7': 'no chord chart available for chord',
  'A M': 'no chord chart available for chord',
  'A m': 
   [ { letter: 'C', string: 'G', fret: 5 },
     'x',
     { letter: 'A', string: 'E', fret: 5 },
     { letter: 'E', string: 'A', fret: 5 } ],
  'A aug': 'no chord chart available for chord',
  'A dim': 'no chord chart available for chord',
  'A m7': 'no chord chart available for chord',
  'A M7': 'no chord chart available for chord',
  'A aug7': 'no chord chart available for chord',
  'A dim7': 'no chord chart available for chord',
  'A m7dim5': 'no chord chart available for chord',
  'A# 7': 'no chord chart available for chord',
  'A# M': 'no chord chart available for chord',
  'A# m': 'no chord chart available for chord',
  'A# aug': 'no chord chart available for chord',
  'A# dim': 'no chord chart available for chord',
  'A# m7': 'no chord chart available for chord',
  'A# M7': 'no chord chart available for chord',
  'A# aug7': 'no chord chart available for chord',
  'A# dim7': 'no chord chart available for chord',
  'A# m7dim5': 'no chord chart available for chord',
  'Bb 7': 'no chord chart available for chord',
  'Bb M': 'no chord chart available for chord',
  'Bb m': 'no chord chart available for chord',
  'Bb aug': 'no chord chart available for chord',
  'Bb dim': 'no chord chart available for chord',
  'Bb m7': 'no chord chart available for chord',
  'Bb M7': 'no chord chart available for chord',
  'Bb aug7': 'no chord chart available for chord',
  'Bb dim7': 'no chord chart available for chord',
  'Bb m7dim5': 'no chord chart available for chord',
  'B 7': 'no chord chart available for chord',
  'B M': 'no chord chart available for chord',
  'B m': 'no chord chart available for chord',
  'B aug': 'no chord chart available for chord',
  'B dim': 'no chord chart available for chord',
  'B m7': 'no chord chart available for chord',
  'B M7': 'no chord chart available for chord',
  'B aug7': 'no chord chart available for chord',
  'B dim7': 'no chord chart available for chord',
  'B m7dim5': 'no chord chart available for chord',
  'B# 7': 'no chord chart available for chord',
  'B# M': 
   [ { letter: 'F##', string: 'G', fret: 0 },
     { letter: 'B#', string: 'C', fret: 0 },
     { letter: 'D##', string: 'E', fret: 0 },
     'x' ],
  'B# m': 'no chord chart available for chord',
  'B# aug': 
   [ { letter: 'F###', string: 'G', fret: 1 },
     { letter: 'B#', string: 'C', fret: 0 },
     { letter: 'D##', string: 'E', fret: 0 },
     'x' ],
  'B# dim': 'no chord chart available for chord',
  'B# m7': 'no chord chart available for chord',
  'B# M7': 'no chord chart available for chord',
  'B# aug7': 'no chord chart available for chord',
  'B# dim7': 'no chord chart available for chord',
  'B# m7dim5': 'no chord chart available for chord',
  'Cb 7': 'no chord chart available for chord',
  'Cb M': 'no chord chart available for chord',
  'Cb m': 'no chord chart available for chord',
  'Cb aug': 'no chord chart available for chord',
  'Cb dim': 'no chord chart available for chord',
  'Cb m7': 'no chord chart available for chord',
  'Cb M7': 'no chord chart available for chord',
  'Cb aug7': 'no chord chart available for chord',
  'Cb dim7': 'no chord chart available for chord',
  'Cb m7dim5': 'no chord chart available for chord',
  'C 7': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C', string: 'C', fret: 0 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'B#', string: 'A', fret: 3 } ],
  'C M': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C', string: 'C', fret: 0 },
     { letter: 'E', string: 'E', fret: 0 },
     'x' ],
  'C m': 'no chord chart available for chord',
  'C aug': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C', string: 'C', fret: 0 },
     { letter: 'E', string: 'E', fret: 0 },
     'x' ],
  'C dim': 'no chord chart available for chord',
  'C m7': 'no chord chart available for chord',
  'C M7': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C', string: 'C', fret: 0 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'B', string: 'A', fret: 2 } ],
  'C aug7': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C', string: 'C', fret: 0 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'Bb', string: 'A', fret: 1 } ],
  'C dim7': 'no chord chart available for chord',
  'C m7dim5': 'no chord chart available for chord',
  'C# 7': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E#', string: 'E', fret: 1 },
     { letter: 'B', string: 'A', fret: 2 } ],
  'C# M': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E#', string: 'E', fret: 1 },
     'x' ],
  'C# m': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E', string: 'E', fret: 0 },
     'x' ],
  'C# aug': 
   [ { letter: 'G##', string: 'G', fret: 2 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E#', string: 'E', fret: 1 },
     'x' ],
  'C# dim': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E', string: 'E', fret: 0 },
     'x' ],
  'C# m7': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'B', string: 'A', fret: 2 } ],
  'C# M7': 
   [ { letter: 'G#', string: 'G', fret: 1 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E#', string: 'E', fret: 1 },
     { letter: 'Bb', string: 'A', fret: 1 } ],
  'C# aug7': 
   [ { letter: 'G##', string: 'G', fret: 2 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E#', string: 'E', fret: 1 },
     { letter: 'Bbb', string: 'A', fret: 0 } ],
  'C# dim7': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'B#', string: 'A', fret: 3 } ],
  'C# m7dim5': 
   [ { letter: 'G', string: 'G', fret: 0 },
     { letter: 'C#', string: 'C', fret: 1 },
     { letter: 'E', string: 'E', fret: 0 },
     { letter: 'B', string: 'A', fret: 2 } ],
  'Db 7': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'C#', string: 'A', fret: 4 } ],
  'Db M': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'F', string: 'E', fret: 1 },
     'x' ],
  'Db m': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'Fb', string: 'E', fret: 0 },
     'x' ],
  'Db aug': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'F', string: 'E', fret: 1 },
     'x' ],
  'Db dim': 
   [ { letter: 'A##', string: 'G', fret: 4 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'Fb', string: 'E', fret: 0 },
     'x' ],
  'Db m7': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'Fb', string: 'E', fret: 0 },
     { letter: 'C#', string: 'A', fret: 4 } ],
  'Db M7': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'Db aug7': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'Db dim7': 
   [ { letter: 'A##', string: 'G', fret: 4 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'Fb', string: 'E', fret: 0 },
     { letter: 'C##', string: 'A', fret: 5 } ],
  'Db m7dim5': 
   [ { letter: 'A##', string: 'G', fret: 4 },
     { letter: 'Db', string: 'C', fret: 1 },
     { letter: 'Fb', string: 'E', fret: 0 },
     { letter: 'C#', string: 'A', fret: 4 } ],
  'D 7': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'D M': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F#', string: 'E', fret: 2 },
     'x' ],
  'D m': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F', string: 'E', fret: 1 },
     'x' ],
  'D aug': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F#', string: 'E', fret: 2 },
     'x' ],
  'D dim': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F', string: 'E', fret: 1 },
     'x' ],
  'D m7': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'D M7': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'D aug7': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cbb', string: 'A', fret: 1 } ],
  'D dim7': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'C#', string: 'A', fret: 4 } ],
  'D m7dim5': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'D', string: 'C', fret: 2 },
     { letter: 'F', string: 'E', fret: 1 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'D# 7': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F##', string: 'E', fret: 3 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'D# M': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F##', string: 'E', fret: 3 },
     'x' ],
  'D# m': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F#', string: 'E', fret: 2 },
     'x' ],
  'D# aug': 
   [ { letter: 'Abb', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F##', string: 'E', fret: 3 },
     'x' ],
  'D# dim': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F#', string: 'E', fret: 2 },
     'x' ],
  'D# m7': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'D# M7': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F##', string: 'E', fret: 3 },
     { letter: 'Cbb', string: 'A', fret: 1 } ],
  'D# aug7': 
   [ { letter: 'Abb', string: 'G', fret: 1 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F##', string: 'E', fret: 3 },
     { letter: 'Cbbb', string: 'A', fret: 0 } ],
  'D# dim7': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'D# m7dim5': 
   [ { letter: 'A', string: 'G', fret: 2 },
     { letter: 'D#', string: 'C', fret: 3 },
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'Eb 7': 'no chord chart available for chord',
  'Eb M': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'G', string: 'E', fret: 3 },
     'x' ],
  'Eb m': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'Gb', string: 'E', fret: 2 },
     'x' ],
  'Eb aug': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'G', string: 'E', fret: 3 },
     'x' ],
  'Eb dim': 
   [ 'x',
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'Gb', string: 'E', fret: 2 },
     { letter: 'B##', string: 'A', fret: 4 } ],
  'Eb m7': 'no chord chart available for chord',
  'Eb M7': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'G', string: 'E', fret: 3 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'Eb aug7': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'Eb', string: 'C', fret: 3 },
     { letter: 'G', string: 'E', fret: 3 },
     { letter: 'Db', string: 'A', fret: 4 } ],
  'Eb dim7': 'no chord chart available for chord',
  'Eb m7dim5': 'no chord chart available for chord',
  'E 7': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'E M': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G#', string: 'E', fret: 4 },
     'x' ],
  'E m': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G', string: 'E', fret: 3 },
     'x' ],
  'E aug': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G#', string: 'E', fret: 4 },
     'x' ],
  'E dim': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G', string: 'E', fret: 3 },
     'x' ],
  'E m7': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G', string: 'E', fret: 3 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'E M7': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'Db', string: 'A', fret: 4 } ],
  'E aug7': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'Dbb', string: 'A', fret: 3 } ],
  'E dim7': 'no chord chart available for chord',
  'E m7dim5': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'E', string: 'C', fret: 4 },
     { letter: 'G', string: 'E', fret: 3 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'E# 7': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G##', string: 'E', fret: 5 },
     { letter: 'Db', string: 'A', fret: 4 } ],
  'E# M': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G##', string: 'E', fret: 5 },
     'x' ],
  'E# m': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G#', string: 'E', fret: 4 },
     'x' ],
  'E# aug': 
   [ { letter: 'Bbb', string: 'G', fret: 2 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G##', string: 'E', fret: 5 },
     'x' ],
  'E# dim': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G#', string: 'E', fret: 4 },
     'x' ],
  'E# m7': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'Db', string: 'A', fret: 4 } ],
  'E# M7': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G##', string: 'E', fret: 5 },
     { letter: 'Dbb', string: 'A', fret: 3 } ],
  'E# aug7': 
   [ { letter: 'Bbb', string: 'G', fret: 2 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G##', string: 'E', fret: 5 },
     { letter: 'Dbbb', string: 'A', fret: 2 } ],
  'E# dim7': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'E# m7dim5': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'E#', string: 'C', fret: 5 },
     { letter: 'G#', string: 'E', fret: 4 },
     { letter: 'Db', string: 'A', fret: 4 } ],
  'Fb 7': 'no chord chart available for chord',
  'Fb M': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Fb', string: 'C', fret: 4 },
     'x',
     { letter: 'C#', string: 'A', fret: 4 } ],
  'Fb m': 
   [ { letter: 'A##', string: 'G', fret: 4 },
     { letter: 'Fb', string: 'C', fret: 4 },
     'x',
     { letter: 'C#', string: 'A', fret: 4 } ],
  'Fb aug': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'Fb', string: 'C', fret: 4 },
     'x',
     { letter: 'C', string: 'A', fret: 3 } ],
  'Fb dim': 
   [ { letter: 'A##', string: 'G', fret: 4 },
     { letter: 'Fb', string: 'C', fret: 4 },
     'x',
     { letter: 'C##', string: 'A', fret: 5 } ],
  'Fb m7': 'no chord chart available for chord',
  'Fb M7': 'no chord chart available for chord',
  'Fb aug7': 'no chord chart available for chord',
  'Fb dim7': 'no chord chart available for chord',
  'Fb m7dim5': 'no chord chart available for chord',
  'F 7': 
   [ { letter: 'C', string: 'G', fret: 5 },
     { letter: 'F', string: 'C', fret: 5 },
     { letter: 'A', string: 'E', fret: 5 },
     { letter: 'E#', string: 'A', fret: 4 } ],
  'F M': 
   [ { letter: 'C', string: 'G', fret: 5 },
     { letter: 'F', string: 'C', fret: 5 },
     { letter: 'A', string: 'E', fret: 5 },
     'x' ],
  'F m': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'F', string: 'C', fret: 5 },
     'x',
     { letter: 'C', string: 'A', fret: 3 } ],
  'F aug': 
   [ { letter: 'Cb', string: 'G', fret: 4 },
     { letter: 'F', string: 'C', fret: 5 },
     { letter: 'A', string: 'E', fret: 5 },
     'x' ],
  'F dim': 
   [ { letter: 'A#', string: 'G', fret: 3 },
     { letter: 'F', string: 'C', fret: 5 },
     'x',
     { letter: 'C#', string: 'A', fret: 4 } ],
  'F m7': 'no chord chart available for chord',
  'F M7': 
   [ { letter: 'C', string: 'G', fret: 5 },
     { letter: 'F', string: 'C', fret: 5 },
     { letter: 'A', string: 'E', fret: 5 },
     { letter: 'E', string: 'A', fret: 5 } ],
  'F aug7': 'no chord chart available for chord',
  'F dim7': 'no chord chart available for chord',
  'F m7dim5': 'no chord chart available for chord',
  'F# 7': 'no chord chart available for chord',
  'F# M': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     'x',
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'F# m': 
   [ { letter: 'A', string: 'G', fret: 2 },
     'x',
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cb', string: 'A', fret: 2 } ],
  'F# aug': 
   [ { letter: 'Ab', string: 'G', fret: 1 },
     'x',
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'Cbb', string: 'A', fret: 1 } ],
  'F# dim': 
   [ { letter: 'A', string: 'G', fret: 2 },
     'x',
     { letter: 'F#', string: 'E', fret: 2 },
     { letter: 'C', string: 'A', fret: 3 } ],
  'F# m7': 'no chord chart available for chord',
  'F# M7': 'no chord chart available for chord',
  'F# aug7': 'no chord chart available for chord',
  'F# dim7': 'no chord chart available for chord',
  'F# m7dim5': 'no chord chart available for chord',
  'Gb 7': 'no chord chart available for chord',
  'Gb M': 'no chord chart available for chord',
  'Gb m': 'no chord chart available for chord',
  'Gb aug': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     'x',
     { letter: 'Gb', string: 'E', fret: 2 },
     { letter: 'D', string: 'A', fret: 5 } ],
  'Gb dim': 'no chord chart available for chord',
  'Gb m7': 'no chord chart available for chord',
  'Gb M7': 'no chord chart available for chord',
  'Gb aug7': 'no chord chart available for chord',
  'Gb dim7': 'no chord chart available for chord',
  'Gb m7dim5': 'no chord chart available for chord',
  'G 7': 'no chord chart available for chord',
  'G M': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'G', string: 'C', fret: 5 },
     'x',
     { letter: 'D', string: 'A', fret: 5 } ],
  'G m': 
   [ { letter: 'B#', string: 'G', fret: 5 },
     { letter: 'G', string: 'C', fret: 5 },
     'x',
     { letter: 'D', string: 'A', fret: 5 } ],
  'G aug': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'G', string: 'C', fret: 5 },
     'x',
     { letter: 'Db', string: 'A', fret: 4 } ],
  'G dim': 'no chord chart available for chord',
  'G m7': 'no chord chart available for chord',
  'G M7': 'no chord chart available for chord',
  'G aug7': 'no chord chart available for chord',
  'G dim7': 'no chord chart available for chord',
  'G m7dim5': 'no chord chart available for chord',
  'G# 7': 'no chord chart available for chord',
  'G# M': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'G#', string: 'C', fret: 4 },
     'x',
     { letter: 'Db', string: 'A', fret: 4 } ],
  'G# m': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'G#', string: 'C', fret: 4 },
     'x',
     { letter: 'Db', string: 'A', fret: 4 } ],
  'G# aug': 
   [ { letter: 'Bb', string: 'G', fret: 3 },
     { letter: 'G#', string: 'C', fret: 4 },
     'x',
     { letter: 'Dbb', string: 'A', fret: 3 } ],
  'G# dim': 
   [ { letter: 'B', string: 'G', fret: 4 },
     { letter: 'G#', string: 'C', fret: 4 },
     'x',
     { letter: 'D', string: 'A', fret: 5 } ],
  'G# m7': 'no chord chart available for chord',
  'G# M7': 'no chord chart available for chord',
  'G# aug7': 'no chord chart available for chord',
  'G# dim7': 'no chord chart available for chord',
  'G# m7dim5': 'no chord chart available for chord' };

var fullLetters = ['A', 'A#', 'B', 'C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#']

///// Needs refactoring

String.prototype.includes = function (str) {
    return this.indexOf(str) > -1;
}

Number.prototype.mod = function(n) {
return ((this%n)+n)%n;
}
function normalize(note) {
    // ex: note = 'A##'
    var letter = note[0];
    var accidental = note.slice(1);

    if (accidental.includes('b')) {
        return fullLetters[(fullLetters.indexOf(letter) - accidental.length).mod(12)];
    }
    else if (accidental.includes('#')) {
        return fullLetters[(fullLetters.indexOf(letter) + accidental.length).mod(12)];
    }
    else {
        return note;
    }
}
// from http://www.sitepoint.com/javascript-generate-lighter-darker-color/
function colorLuminance(hex, lum) {

  // validate hex string
  hex = String(hex).replace(/[^0-9a-f]/gi, '');
  if (hex.length < 6) {
    hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
  }
  lum = lum || 0;

  // convert to decimal and change luminosity
  var rgb = "#", c, i;
  for (i = 0; i < 3; i++) {
    c = parseInt(hex.substr(i*2,2), 16);
    c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);
    rgb += ("00"+c).substr(c.length);
  }

  return rgb;
}

function colorTheSound(note, isChord) {
    var colors = [
      [2, 62, 76], // "C14D49", 
      [14, 66, 81], // "CE6646", 
      [23, 72, 87], // "DD7B3E", 
      [45, 66, 90], // "E5BF4E", 
      [104, 56, 75], // "70BF54", 
      [152, 64, 75], // "44BF86", 
      [184, 65, 75], // "42B6BF", 
      [204, 66, 75], // "418CBF", 
      [228, 59, 75], // "4E64BF", 
      [260, 60, 86], // "8357DB", 
      [283, 61, 75], // "9E4ABF", 
      [322, 51, 66] // "A85288"  
    ];
    var hsb = colors[fullLetters.indexOf(normalize(note))];
    var hue = hsb[0];
    var lightness = (hsb[2]/100 * (2 - hsb[1]/100)) / 2;
    var saturation = ((hsb[2]/100 * hsb[1]/100) / (1 - Math.abs(2 * lightness - 1)));// + (isChord ? -20 : 0);
    return 'hsl(' + hue + ', ' + 100 * saturation + '%, ' + 100 * lightness + '%)';
}

var stringCount = 4;
var fretCount = 5;

var stringWidth = 2;
var fretLength = 80;
var spaceAboveNeck = 200;
var neckWidth = stringCount * 50;
var neckHeight = fretCount * fretLength;
var canvasHeight = neckHeight + spaceAboveNeck;
var canvasStyles = "width=" + neckWidth + " height=" + canvasHeight; 

window.onload = function() {
    var counter = 1;
    for (var chord in exampleChords) {
        if (exampleChords[chord] != 'no chord chart available for chord') {
            var canvas = drawChordChart(chord);
            document.getElementById('chord-charts').appendChild(canvas);
            counter++;
        }
    }
}

function drawChordChart(chord) {
    var chordNoSpaces = chord.replace(/\ /g, "")
    var canvas = document.createElement('canvas');
    canvas.setAttribute('id', chordNoSpaces)    
    canvas.setAttribute('width', neckWidth);    
    canvas.setAttribute('height', canvasHeight);
    var ctx = canvas.getContext('2d');
    canvas.style.backgroundColor = colorTheSound(chord.split(/(\s+)/)[0], true);

    // neck 
    ctx.fillStyle = "lightgrey";
    ctx.fillRect(0, spaceAboveNeck, neckWidth, neckHeight);

    // frets 
    var fretLineWidth = 2;
    for (var i = 0; i < fretCount; i++) {
        var fretY = (i * (fretLength - fretLineWidth/2)) + spaceAboveNeck;
        ctx.beginPath();
        ctx.moveTo(0, fretY);
        ctx.lineTo(neckWidth, fretY);
        ctx.strokeStyle = "grey";
        ctx.stroke();
    } 

    // strings
    ctx.fillStyle = "#000000";
    for (var i = 0; i < stringCount; i++) {
        var fretY = (i * (fretLength - fretLineWidth/2)) + spaceAboveNeck;
        ctx.beginPath();
        ctx.moveTo(stringX(i), spaceAboveNeck);
        ctx.lineTo(stringX(i), canvasHeight);
        ctx.strokeStyle = "black";
        ctx.stroke();
    }

    // fingers
    var positions = exampleChords[chord];
    var fontSize = 20;
    ctx.font = fontSize + "px sans-serif";
    ctx.textBaseline = 'middle';
    ctx.textAlign = 'center';

    for (var i = 0; i < positions.length; i++ ) {
        // circle
        var xLength = 20;
        if (positions[i] === 'x') {
            ctx.beginPath();
            ctx.moveTo(stringX(i) + xLength/2, spaceAboveNeck -(xLength * 2));
            ctx.lineTo(stringX(i) - xLength/2, spaceAboveNeck - xLength);
            ctx.moveTo(stringX(i) + xLength/2, spaceAboveNeck - xLength);
            ctx.lineTo(stringX(i) - xLength/2, spaceAboveNeck - (xLength * 2));

            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 3;
            ctx.stroke();
        } else {
            var circleY = ((fretLength * positions[i].fret) - fretLength/2) + spaceAboveNeck
            ctx.beginPath();
            ctx.arc(stringX(i), circleY, fretLength/4, 0, 2 * Math.PI, false);
            ctx.fillStyle = colorTheSound(positions[i].letter);
            ctx.fill();
            ctx.strokeStyle = "black"
            ctx.lineWidth = 2;
            ctx.stroke();


            // note name
            ctx.fillStyle = "white"
            ctx.fillText(positions[i].letter, stringX(i), circleY);
        }
    }

    return canvas;
}

function stringX(stringNum) {
    return stringNum * (50 - stringWidth/2) + 25;
}

